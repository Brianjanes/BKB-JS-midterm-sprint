<html lang="en">
  <head>
    <title>Movie Gallery</title>
    <link rel="stylesheet" type="text/css" href="./styles.css" />
  </head>
  <body>
    <%- include('partials/header') %>
    <main class="homepage-container">
      <h1>Movie Gallery</h1>
      <div class="featured-movies-container">
        <% movies.forEach(movie => { %>
        <div class="featured-movie-card">
          <a href="/movie/<%= movie.id %>" class="featured-movie-link">
            <div class="featured-movie-wrapper">
              <div class="movie-image-container">
                <img
                  src="<%= movie.image %>"
                  alt="<%= movie.title %>"
                  class="movie-image"
                  onerror="this.src='/MoviePics/Gladiator.jpg'"
                />
              </div>
              <h2 class="featured-movie-title"><%= movie.title %></h2>
              <div class="featured-movie-metadata">
                <span class="featured-movie-year"
                  ><%= movie.releaseYear %></span
                >
                <% if (movie.rating !== null) { %>
                <span class="featured-movie-score"
                  >â˜… <%= movie.rating.toFixed(1) %>/10</span
                >
                <% } else { %>
                <span class="featured-movie-unreleased">Unreleased</span>
                <% } %>
              </div>
            </div>
          </a>
          <div class="movie-reviews">
            <% movie.reviews.forEach((review, index) => { %>
            <div class="review-item">
              <p class="review-text">"<%= review %>"</p>
              <span class="reviewer">
                - <%= ['CineExpert', 'FilmBuff', 'MovieSage'][index] %>
              </span>
            </div>
            <% }); %>
          </div>
        </div>
        <% }); %>
      </div>
    </main>
    <%- include('partials/footer') %>
  </body>
</html>
